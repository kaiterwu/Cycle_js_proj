!function(){"use strict";!function(){function e(e){return 60*parseInt(e.slice(0,2))*60+60*parseInt(e.slice(3,5))+parseInt(e.slice(6))}function t(e){let t=parseInt(e.slice(0,4)),n=parseInt(e.slice(5,7)),s=parseInt(e.slice(8));return 12===n?s:1===n?31+s:t%4==0?[31,60,91,121,152,182,213,244,274,305,336,366][n-2]+s+31:[31,59,90,120,151,181,212,243,273,304,334,365][n-2]+s+31}function n(t,n,s,r,o,i){const a=n,c=n,l=Math.min(a,c)/2-20,d=d3.select(i).append("svg").attr("width",a).attr("height",c).append("g").attr("transform",`translate(${a/2},${c/2})`);let u=e(t.currentConditions.datetime),p=e(t.currentConditions.sunrise),f=e(t.currentConditions.sunset);const m=86400;let x=function(e,t,n){return e>n?m-e+t:e<t?t-e:m-n+t}(u,p,f),y=function(e,t,n){return e>t&&e<n?n-e:0}(u,p,f),g=function(e,t,n){return e>t?e-t:e<n?m+e-t:void 0}(u,p,f);const h={elapse:g,day:y,night:x},b=d3.scaleOrdinal().range(["#000000","#ff0660","#416fec"]),S=d3.pie().value((e=>e[1])).sort(null),w=d3.arc().innerRadius(l-s).outerRadius(l),k=S(Object.entries(h));d.selectAll("path").data(k).join("path").transition().duration(2e3).attrTween("d",(function(e){let t=d3.interpolate(e.startAngle+.1,e.endAngle);return function(n){return e.endAngle=t(n),w(e)}})).style("fill",(e=>b(e.data[0]))).attr("stroke",o).style("stroke-width",r).style("opacity",1)}function s(e,n,s,r,o,i){const a=n,c=n,l=Math.min(a,c)/2-20,d=d3.select(i).append("svg").attr("width",a).attr("height",c).append("g").attr("transform",`translate(${a/2},${c/2})`);let u=t(e.days[0].datetime);parseInt(e.days[0].datetime.slice(0,4));const p={current:u,winter:function(e){return e>90?0:90-e}(u),spring:function(e){return e>182?0:e>90?182-e:92}(u),summer:function(e){return e>273?0:e>182?273-e:92}(u),fall:function(e){return e>273?365-e:91}(u)},f=d3.scaleOrdinal().range(["#000000","#99ffe6","#065535","#fff228","#f77c3f"]),m=d3.pie().value((e=>e[1])).sort(null),x=d3.arc().innerRadius(l-s).outerRadius(l),y=m(Object.entries(p));d.selectAll("path").data(y).join("path").transition().duration(2e3).attrTween("d",(function(e){let t=d3.interpolate(e.startAngle+.1,e.endAngle);return function(n){return e.endAngle=t(n),x(e)}})).style("fill",(e=>f(e.data[0]))).attr("stroke",o).style("stroke-width",r).style("opacity",1)}function r(e,t,n,s,r){const o=t,i=t,a=Math.min(o,i)/2-20,c=d3.select(r).append("svg").attr("width",o).attr("height",i).append("g").attr("transform",`translate(${o/2},${i/2})`),l=d3.scaleOrdinal().range(function(e){let t=["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"];const n=e.currentConditions.moonphase;return n<.125||1===n?t.splice(0,0,"#000000"):n>=.125&&n<.25?t.splice(1,0,"#000000"):n>=.25&&n<.375?t.splice(2,0,"#000000"):n>=.375&&n<.5?t.splice(3,0,"#000000"):n>=.5&&n<.625?t.splice(4,0,"#000000"):n>=.625&&n<.75?t.splice(5,0,"#000000"):n>=.75&&n<.875?t.splice(6,0,"#000000"):n>=.875&&n<1?t.splice(7,0,"#000000"):t.splice(0,0,"#000000"),t}(e)),d=d3.pie().value((e=>e[1])).sort(null),u=d3.arc().innerRadius(a-80).outerRadius(a),p=d(Object.entries({"ðŸŒ‘":8,"ðŸŒ’":8,"ðŸŒ“":8,"ðŸŒ”":8,"ðŸŒ•":8,"ðŸŒ–":8,"ðŸŒ—":8,"ðŸŒ˜":8}));c.selectAll("slice").data(p).join("path").attr("d",u).transition().delay((function(e,t){return t/8*1e3})).duration(1e3).style("fill",(e=>l(e.data[0]))).attr("stroke",s).style("stroke-width",n).style("opacity",1),c.selectAll("slices").data(p).join("text").text((function(e){return e.data[0]})).transition().duration(2e3).attr("transform",(function(e){return`translate(${u.centroid(e)})`})).style("text-anchor","middle")}const o="4P48W2KCWFQAQ6SJ99K5H2VBM",i=Math.floor(Date.now()/1e3);async function a(a){try{const c=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${a}/${i}?key=${o}`);if(!c.ok)throw c;{const o=await c.json();!function(e){let t=e.days[0].datetime;document.querySelector("#date").innerText=t}(o),n(o,200,10,"5px","black","#sun-path"),r(o,450,"30px","black","#moons"),s(o,600,40,"20px","black","#seasons"),function(t){let s=e(t.currentConditions.datetime),r=(e(t.currentConditions.sunrise),e(t.currentConditions.sunset));const o=document.querySelector(".astro-modal"),i=document.querySelector(".overlay"),a=document.querySelector("#sun-path>svg"),c=document.querySelector(".close-btn"),l=document.querySelector("#svg-container"),d=document.querySelector("#upper-text"),u=document.querySelector("#lower-text");a.addEventListener("click",(function(){o.classList.remove("hidden"),i.classList.remove("hidden")})),a.addEventListener("click",(function(){n(t,600,30,"5px","white","#svg-container"),function(e){const t=document.createElement("p"),n=document.createElement("h1"),o=document.createElement("p"),i=document.createElement("h1"),a=document.createElement("img");t.innerText="Sunrise was at",n.innerText=`${e.currentConditions.sunrise}`,n.style.color="black",n.style.border="5px solid #ff0660",n.style.borderRadius="20px",n.style.background="#ff0660",n.style.boxShadow="0px 0px 20px 20px #ff0660",n.style.textShadow="1px 1px 5px black",d.append(t),d.append(n),s>r?(o.innerText="Sunset was at",a.src="images/days/moon.png"):(o.innerText="Sunset is at",a.src="images/days/sun2.png"),i.innerText=`${e.currentConditions.sunset}`,i.style.color="#416fec",i.style.border="5px solid #416fec",i.style.borderRadius="20px",i.style.background="black",i.style.boxShadow="0px 0px 20px 20px #416fec",i.style.textShadow="1px 1px 10px #416fec",u.append(o),u.append(i),l.append(a)}(t)})),c.addEventListener("click",(function(){o.classList.add("hidden"),i.classList.add("hidden"),l.innerHTML="",d.innerHTML="",u.innerHTML=""}))}(o),function(e){const t=document.querySelector(".astro-modal"),n=document.querySelector(".overlay"),s=document.querySelector("#moons>svg"),o=document.querySelector(".close-btn"),i=document.querySelector("#svg-container"),a=document.querySelector("#upper-text"),c=document.querySelector("#lower-text"),l=document.querySelector(".moon_background");s.addEventListener("click",(function(){t.classList.remove("hidden"),n.classList.remove("hidden"),l.classList.remove("hidden")})),s.addEventListener("click",(function(){r(e,600,"30px","black","#svg-container"),function(e){const t=document.createElement("p"),n=document.createElement("h1"),s=document.createElement("p"),r=document.createElement("h1"),o=document.createElement("img"),l=["New","Waxing Crescent","First Quarter","Waxing Gibbous","Full","Waning Gibbous","Last Quarter","Waning Crescent"],d=function(e){const t=e.currentConditions.moonphase;let n;return n=t<.125||1===t?"New":t>=.125&&t<.25?"Waxing Crescent":t>=.25&&t<.375?"First Quarter":t>=.375&&t<.5?"Waxing Gibbous":t>=.5&&t<.625?"Full":t>=.625&&t<.75?"Waning Gibbous":t>=.75&&t<.875?"Last Quarter":t>=.875&&t<1?"Waning Crescent":"New",n}(e);t.innerText="Current Phase",n.innerText=d,s.innerText="Next Phase";const u=l.indexOf(d);switch(r.innerText=7!==u?l[u+1]:l[0],d){case"New":o.src="images/moons/new_moon.png";break;case"Waxing Crescent":case"Waning Crescent":o.src="images/moons/waxing_crescent.png";break;case"First Quarter":o.src="images/moons/first_quarter.png";break;case"Waxing Gibbous":o.src="images/moons/waxing_gibbous.png";break;case"Full":o.src="images/moons/Full_moon.png";break;case"Waning Gibbous":o.src="images/moons/waning_gibbous.png";break;case"Last Quarter":o.src="images/moons/last_quarter.png"}n.style.fontSize="60px",r.style.fontSize="60px",n.style.fontStyle="italic",n.style.border="5px solid black",n.style.borderRadius="20px",n.style.background="black",n.style.color="white",n.style.boxShadow="0px 0px 60px 20px rgba(255, 255, 255, 0.4) ",n.style.textShadow="1px 1px 10px white ",r.style.fontStyle="italic",r.style.border="10px solid white",r.style.borderRadius="20px",r.style.background="white",r.style.color="black",r.style.boxShadow="0px 0px 60px 20px rgba(255, 255, 255, 0.4) ",r.style.textShadow="1px 1px 5px black ",r.style.width="80%",o.style.width="350",o.style.height="350",o.style.zIndex="10",a.append(t),a.append(n),c.append(s),c.append(r),i.append(o)}(e)})),o.addEventListener("click",(function(){t.classList.add("hidden"),n.classList.add("hidden"),l.classList.add("hidden"),i.innerHTML=""}))}(o),function(e){const n=document.querySelector(".astro-modal"),r=document.querySelector(".overlay"),o=document.querySelector("#seasons>svg"),i=document.querySelector(".close-btn"),a=document.querySelector("#svg-container"),c=document.querySelector("#upper-text"),l=document.querySelector("#lower-text");o.addEventListener("click",(function(){n.classList.remove("hidden"),r.classList.remove("hidden")})),o.addEventListener("click",(function(){s(e,600,40,"5px","white","#svg-container"),function(e){const n=document.createElement("p"),s=document.createElement("h1"),r=document.createElement("p"),o=document.createElement("h1"),i=document.createElement("img");let d,u,p,f,m,x,y=t(e.days[0].datetime);y<=90?(d=y,u=90-y,p="Winter",f="Spring",i.src="images/seasons/winter.png"):y>90&&y<=181?(d=y-90,u=181-y,p="Spring",f="Summer",i.src="images/seasons/spring.png"):y>182&&y<=273?(d=y-182,u=273-y,p="Summer",f="Fall",i.src="images/seasons/summer.png"):(d=y-274,u=365-y,console.log(d),console.log(y),p="Fall",f="Winter",i.src="images/seasons/autumn.png"),n.innerText=`${d} day(s) into `,r.innerText=`${u} day(s) until`,s.innerText=`${p}`,o.innerText=`${f}`,"Winter"===p?(m="#99ffe6",x="#065535"):"Spring"===p?(m="#065535",x="#fff228"):"Summer"===p?(m="#fff228",x="#f77c3f"):(m="#f77c3f",x="#99ffe6"),s.style.color=m,s.style.border=`5px solid ${m}`,s.style.borderRadius="20px",s.style.background="black",s.style.boxShadow=`0px 0px 30px 10px ${m} `,s.style.padding="10px",s.style.textShadow=`1px 1px 5px ${m} `,o.style.border=`10px solid ${x}`,o.style.borderRadius="20px",o.style.background=x,o.style.color="black",o.style.boxShadow=`0px 0px 30px 10px ${x} `,o.style.padding="10px",o.style.textShadow="1px 1px 5px black ",i.style.width="350px",i.style.height="350px",c.append(n),c.append(s),l.append(r),l.append(o),a.append(i)}(e)})),i.addEventListener("click",(function(){n.classList.add("hidden"),r.classList.add("hidden"),a.innerHTML=""}))}(o),function(e){let t=e.timezone.split("/"),n=e.resolvedAddress.split(",")[0],s=t[1].split("_").join(" "),r=e.resolvedAddress.split(",")[1]+"\n"+s+"\n"+n;document.querySelector("#location").append(r)}(o),function e(){let t=new Date,n=t.getHours(),s=t.getMinutes(),r=t.getSeconds();n=n<10?"0"+n:n,s=s<10?"0"+s:s,r=r<10?"0"+r:r;let o=n+":"+s+":"+r;document.querySelector("#clock").innerText=o,setTimeout((function(){e()}),1e3)}(),console.log(o)}}catch(e){console.error(e)}}document.addEventListener("DOMContentLoaded",(()=>{let e;!function(){const e=document.querySelector(".intro-modal"),t=document.querySelector("#start"),n=document.querySelector(".overlay");t.addEventListener("click",(function(){e.classList.add("hidden"),n.classList.add("hidden")}))}();const t=document.querySelector("#start");t.addEventListener("click",(function(){e=document.querySelector("#zipcode").value})),t.addEventListener("click",(()=>a(e)))}))}()}();
//# sourceMappingURL=main.js.map