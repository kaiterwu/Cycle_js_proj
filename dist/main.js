!function(){"use strict";!function(){function t(t){return 60*parseInt(t.slice(0,2))*60+60*parseInt(t.slice(3,5))+parseInt(t.slice(6))}let e;Math.floor(Date.now()/1e3),document.addEventListener("DOMContentLoaded",(()=>{(async()=>{await async function(){try{const t=await fetch("../project_docs/2023-03-12.json");if(t.ok){const n=await t.json();return e=n,n}throw t}catch(t){console.error(t)}}(),function(e){const n=Math.min(200,200)/2-20,r=d3.select("#sun-path").append("svg").attr("width",200).attr("height",200).append("g").attr("transform","translate(100,100)");let a=t(e.currentConditions.datetime),s=t(e.currentConditions.sunrise),o=t(e.currentConditions.sunset);const i=86400;function l(t,e,n){return t>n?i-t+e:t<e?e-t:i-n+e}function c(t,e,n){return t>e&&t<n?n-t:0}function f(t,e,n){return t>e?t-e:t<n?i-n+t:void 0}console.log(a),console.log(s),console.log(o),console.log(l(a,s,o)),console.log(c(a,s,o)),console.log(f(a,s,o));let d=l(a,s,o),u=c(a,s,o);const p={elapse:f(a,s,o),day:u,night:d},g=d3.scaleOrdinal().range(["#000000","#ff0660","#416fec"]),h=d3.pie().value((t=>t[1])).sort(null),y=d3.arc().innerRadius(n-10).outerRadius(n),m=h(Object.entries(p));r.selectAll("path").data(m).join("path").transition().duration(2e3).attrTween("d",(function(t){let e=d3.interpolate(t.startAngle+.1,t.endAngle);return function(n){return t.endAngle=e(n),y(t)}})).style("fill",(t=>g(t.data[0]))).attr("stroke","black").style("stroke-width","5px").style("opacity",1)}(e),function(t){const e=Math.min(450,450)/2-20,n=d3.select("#moons").append("svg").attr("width",450).attr("height",450).append("g").attr("transform","translate(225,225)"),r=d3.scaleOrdinal().range(function(t){let e=["#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"];const n=t.currentConditions.moonphase;return n<.125||1===n?e.splice(0,0,"#000000"):n>=.125&&n<.25?e.splice(1,0,"#000000"):n>=.25&&n<.375?e.splice(2,0,"#000000"):n>=.375&&n<.5?e.splice(3,0,"#000000"):n>=.5&&n<.625?e.splice(4,0,"#000000"):n>=.625&&n<.75?e.splice(5,0,"#000000"):n>=.75&&n<.875?e.splice(6,0,"#000000"):n>=.875&&n<1?e.splice(7,0,"#000000"):e.splice(0,0,"#000000"),e}(t)),a=d3.pie().value((t=>t[1])).sort(null),s=d3.arc().innerRadius(e-80).outerRadius(e),o=a(Object.entries({"ðŸŒ‘":8,"ðŸŒ’":8,"ðŸŒ“":8,"ðŸŒ”":8,"ðŸŒ•":8,"ðŸŒ–":8,"ðŸŒ—":8,"ðŸŒ˜":8}));n.selectAll("slice").data(o).join("path").attr("d",s).transition().delay((function(t,e){return e/8*1e3})).duration(1e3).style("fill",(t=>r(t.data[0]))).attr("stroke","black").style("stroke-width","30px").style("opacity",1),n.selectAll("slices").data(o).join("text").text((function(t){return t.data[0]})).transition().duration(2e3).attr("transform",(function(t){return`translate(${s.centroid(t)})`})).style("text-anchor","middle")}(e),function(t){const e=Math.min(600,600)/2-20,n=d3.select("#seasons").append("svg").attr("width",600).attr("height",600).append("g").attr("transform","translate(300,300)");let r=function(t){parseInt(t.slice(0,4));let e=parseInt(t.slice(5,7)),n=parseInt(t.slice(8));return 12===e?n:n%4==0?[31,60,91,121,152,182,213,244,274,305,336,366][e-2]+n+31:[31,59,90,120,151,181,212,243,273,304,334,365][e-2]+n+30}(t.days[0].datetime);function a(t){return t>90?0:90-t}function s(t){return t>182?0:t>90?182-t:92}function o(t){return t>273?0:t>182?273-t:92}function i(t){return t>273?365-t:91}parseInt(t.days[0].datetime.slice(0,4)),console.log(a(r)),console.log(s(r)),console.log(o(r)),console.log(i(r)),console.log(t.days[0].datetime);const l={current:r,winter:a(r),spring:s(r),summer:o(r),fall:i(r)},c=d3.scaleOrdinal().range(["#000000","#99ffe6","#065535","#fff228","#f77c3f"]),f=d3.pie().value((t=>t[1])).sort(null),d=d3.arc().innerRadius(e-40).outerRadius(e),u=f(Object.entries(l));n.selectAll("path").data(u).join("path").transition().duration(2e3).attrTween("d",(function(t){let e=d3.interpolate(t.startAngle+.1,t.endAngle);return function(n){return t.endAngle=e(n),d(t)}})).style("fill",(t=>c(t.data[0]))).attr("stroke","black").style("stroke-width","20px").style("opacity",1)}(e)})()}))}()}();
//# sourceMappingURL=main.js.map